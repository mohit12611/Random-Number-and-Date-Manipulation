<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Document</title>

    <style>
        body {
            text-align: center;
            background: grey;
        }

        .header {
            border: 3px solid black;
            color: red;
            margin-bottom: 20px;
            background: black;
        }

        .divbirthday {
            margin-bottom: 10px;
        }

        div {
            margin: 5px;
        }

        .divresult {
            text-align: left;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>Random Number Generator</h1>
    </div>

    <div class="contaier">
        <div class="row">
            <div class="offset-4 col-4" id="col">
                <button>Generate Random Number</button>
                <hr>
            </div>
        </div>

    </div>



    <div class="header">
        <h1>Date Manipulation</h1>
    </div>


    <script>





        let button = document.querySelector("button");
        button.addEventListener("click", numberGenerator);
        let arr = [];
        var result = document.createElement("div");
        result.setAttribute("id", "result");

        function numberGenerator() {

            result.innerHTML = "";

            let min = 0;
            let max = 9;

            let newNumber = Math.floor(Math.random() * (max - min + 1) + min);
            if (arr.length < 8) {
                if (!arr.includes(newNumber)) {
                    arr.push(newNumber);
                }
                numberGenerator(arr);
            }
            else {
                let x = arr.join("");
                console.log(x);


                result.innerHTML = `<b>${x}</b>`;
                var col = document.getElementById("col");
                col.append(result);
                arr = [];
            }


        };





        let divBirthday = document.createElement("div");
        divBirthday.setAttribute("id", "divbirthday");

        let span = document.createElement("span");
        span.innerHTML = "<b>Birthday : </b>";

        let inputDate = document.createElement("input");
        inputDate.setAttribute("type", "date");
        inputDate.setAttribute("id", "inputdate");

        let submitDate = document.createElement("button");
        submitDate.setAttribute("id", "button");
        submitDate.setAttribute("value", "Submit");
        submitDate.innerHTML = "Submit";

        divBirthday.append(span, inputDate, submitDate);

        let divResult = document.createElement("div");
        divResult.setAttribute("id", "divresult");

        let yearDifference = document.createElement("p");

        let monthDifference = document.createElement("p");

        let dayDifference = document.createElement("p");

        let minuteDifference = document.createElement("p");

        let secondsDifference = document.createElement("p");

        let millisecondsDifference = document.createElement("p");

        divResult.append(yearDifference, monthDifference, dayDifference, minuteDifference, secondsDifference, millisecondsDifference);

        document.body.append(divBirthday, divResult);


        document.getElementById("button").addEventListener("click", function () {
            let input = document.getElementById("inputdate").value;
            let dateEntered = new Date(input);
            let ddB = String(dateEntered.getDate()).padStart(2, '0');
            let mmB = String(dateEntered.getMonth() + 1).padStart(2, '0'); //January is 0!
            let yyyyB = dateEntered.getFullYear();

            dateEntered = mmB + '/' + ddB + '/' + yyyyB;


            let today = new Date();
            let dd = String(today.getDate()).padStart(2, '0');
            let mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
            let yyyy = today.getFullYear();

            today = mm + '/' + dd + '/' + yyyy;

            let date1 = new Date(input);
            let date2 = new Date();

            let ms = date2.getTime() - date1.getTime();


            let years = yyyy - yyyyB;
            yearDifference.innerHTML = `<b>Year Difference : </b>${years}`;


            let months = (years * 12 + (date2.getMonth()  - date1.getMonth()) /*  -1(EXCLUDE both months)     or    +1(INCLUDE both months)  */);
            monthDifference.innerHTML = `<b>Month Difference : </b>${months}`;


            let msInDay = 1000 * 60 * 60 * 24;
            days = Math.floor(ms / msInDay);
            dayDifference.innerHTML = `<b>Day Difference : </b>${days}`;


            let minutes = Math.floor(days * 60 * 24);
            minuteDifference.innerHTML = `<b>Minute Difference : </b>${minutes}`;


            let seconds = Math.floor(minutes * 60);
            secondsDifference.innerHTML = `<b>Second Difference : </b>${seconds}`;


            millisecondsDifference.innerHTML = `<b>Millisecond Difference : </b>${ms}`;


        });

    </script>
</body>

</html>